project function and neste_loops
